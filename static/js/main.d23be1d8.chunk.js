(this["webpackJsonptrello-clone"]=this["webpackJsonptrello-clone"]||[]).push([[0],{57:function(e,t,n){"use strict";n.r(t);var r,o=n(1),i=n(37),a=n.n(i),c=n(38),s=n(6),d=Object(s.a)(r||(r=Object(c.a)(["\n    *, *:before, *:after {\n        box-sizing: border-box;\n    }\n    html, body {\n        height: 100%;\n        font-family: 'Roboto', sans-serif;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n    }\n    #root {\n        height: 100%;\n        font-size: 1rem;\n\n        --main-dark: #1E212B;\n        --main-light: #FFFFFF;\n        --darken-dark: #07080A;\n        --accent: #43AA8B;\n        --darken-accent: #2e7560;\n        --additional: #FFC800;\n        \n        --error: #D63230;\n        --disabled: #E8E9EB;\n\n        --radius: 5px;\n\n        --transition: 0.2s ease-in-out;\n    }\n"]))),u=(n(49),n(17)),l=n(7),b={ROOT:"/",SIGNIN:"/signin",BOARDS:"/boards",BOARD:"/boards"},h=n(8),f=n(18),m=n(42),O=s.b.form.withConfig({displayName:"form__Base",componentId:"sc-1grfi8t-0"})(["display:flex;flex-direction:column;text-align:center;height:25em;width:25em;font-size:1rem;padding:0.625em 4em;border-radius:var(--radius);box-sizing:border-box;color:var(--main-light);background:var(--additional);background:linear-gradient(45deg,var(--additional) 0%,var(--accent) 88%);"]),j=s.b.h2.withConfig({displayName:"form__Title",componentId:"sc-1grfi8t-1"})(["text-transform:uppercase;font-size:1.8rem;margin:1em 0;white-space:nowrap;"]),p=s.b.input.withConfig({displayName:"form__Input",componentId:"sc-1grfi8t-2"})(["padding:0.625em;margin:0 0 0.625em 0;border:none;border-radius:var(--radius);font-size:1rem;"]),g=s.b.p.withConfig({displayName:"form__ErrorText",componentId:"sc-1grfi8t-3"})(["color:var(--error);word-wrap:break-word;margin:0 0 0.625em 0;"]),x=s.b.p.withConfig({displayName:"form__LoadingText",componentId:"sc-1grfi8t-4"})(["font-size:1.2rem;"]),_=n(29),v=s.b.button.withConfig({displayName:"button__Base",componentId:"sc-1caough-0"})(["cursor:pointer;padding:0.625em;border-radius:var(--radius);border:none;background-color:var(--main-dark);color:var(--main-light);font-weight:bold;font-size:1.1rem;box-sizing:border-box;transition:background-color var(--transition);&:hover{background-color:var(--darken-dark);}&:disabled{background-color:var(--disabled);cursor:default;}"]),S=n(2),C=["children","handleOnClick"],E=function(e){var t=e.children,n=e.handleOnClick,r=Object(_.a)(e,C);return Object(S.jsx)(v,Object(f.a)(Object(f.a)({onClick:n},r),{},{children:t}))},T=function(e){var t=e.formTitle,n=e.buttonTitle,r=e.onSubmit,o=e.errorText,i=Object(m.a)(),a=i.register,c=i.handleSubmit,s=i.formState,d=s.errors,u=s.isSubmitting;return Object(S.jsxs)(O,{onSubmit:c(r),children:[Object(S.jsx)(j,{children:t}),Object(S.jsx)(p,Object(f.a)(Object(f.a)({},a("email",{required:!0})),{},{placeholder:"Email"})),d.email&&Object(S.jsx)(g,{role:"alert",children:"Email is required"}),Object(S.jsx)(p,Object(f.a)(Object(f.a)({},a("password",{required:!0})),{},{placeholder:"Password",type:"password"})),d.password&&Object(S.jsx)(g,{role:"alert",children:"Password is required"}),Object(S.jsx)(E,{children:n}),o&&Object(S.jsx)(g,{role:"alert",children:o}),u&&Object(S.jsx)(x,{children:"Loading..."})]})},w=s.b.div.withConfig({displayName:"sigup__Container",componentId:"sc-1yxuy2q-0"})(["height:100%;display:flex;align-items:center;justify-content:center;"]),I=n(5),y=n.n(I),N=n(12),A=n(28),P=(n(58),n(52),{apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"/trello-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_KEY,authDomain:Object({NODE_ENV:"production",PUBLIC_URL:"/trello-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_AUTH_DOMAIN,projectId:Object({NODE_ENV:"production",PUBLIC_URL:"/trello-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_PROJECT_ID,storageBucket:Object({NODE_ENV:"production",PUBLIC_URL:"/trello-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_STORAGE_BUCKET,messagingSenderId:Object({NODE_ENV:"production",PUBLIC_URL:"/trello-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_MESSAGING_SENDER_ID,appId:Object({NODE_ENV:"production",PUBLIC_URL:"/trello-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_APP_ID}),R=A.a.initializeApp(P),D=function(){var e=Object(N.a)(y.a.mark((function e(t){var n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.name,e.abrupt("return",new Promise((function(e,o){R.firestore().collection("boards").where("name","==",r).get().then((function(r){r.docs.length?o("Board with this name already exists"):R.firestore().collection("boards").doc(n).set(t).then((function(){e()})).catch((function(e){return o(e.message)}))}))})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(N.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.boardId,e.abrupt("return",new Promise((function(e,r){R.firestore().collection("boards").where("id","==",n).get().then((function(o){o.docs.length&&R.firestore().collection("boards").doc(n).update({lists:A.a.firestore.FieldValue.arrayUnion(t)}).then((function(){e()})).catch((function(e){return r(e.message)}))})).catch((function(e){return r(e.message)}))})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(l.g)(),t=Object(o.useState)(""),n=Object(h.a)(t,2),r=n[0],i=n[1],a=function(t){(function(e){var t=e.email,n=e.password;return new Promise((function(e,r){R.auth().createUserWithEmailAndPassword(t,n).then((function(n){var o=n.user.uid,i={email:t,uid:o};R.firestore().collection("users").doc(o).set(i).then((function(){e()})).catch((function(e){return r(e.message)}))})).catch((function(e){r(e.message)}))}))})(t).then((function(){return e.push(b.SIGNIN)})).catch((function(e){return i(e)}))};return Object(S.jsx)(w,{children:Object(S.jsx)(T,{onSubmit:function(e,t){t.preventDefault(),a(e)},buttonTitle:"Sign Up",formTitle:"Create account",errorText:r.message})})},F=s.b.div.withConfig({displayName:"signin__Container",componentId:"sc-1tsapn2-0"})(["height:100%;display:flex;align-items:center;justify-content:center;"]),K=function(){var e=Object(l.g)(),t=Object(o.useState)(""),n=Object(h.a)(t,2),r=n[0],i=n[1],a=function(t){(function(e){var t=e.email,n=e.password;return new Promise((function(e,r){R.auth().signInWithEmailAndPassword(t,n).then((function(){e()})).catch((function(e){r(e.message)}))}))})(t).then((function(){return e.push(b.DASHBOARD)})).catch((function(e){return i(e)}))};return Object(S.jsx)(F,{children:Object(S.jsx)(T,{onSubmit:function(e,t){t.preventDefault(),a(e)},buttonTitle:"Sign In",formTitle:"Sign In",errorText:r})})},H=n(59),U=s.b.div.withConfig({displayName:"boards__Base",componentId:"sc-fg38gg-0"})(["margin:50px;"]),W=s.b.div.withConfig({displayName:"boards__Container",componentId:"sc-fg38gg-1"})(["display:flex;flex-direction:column;justify-content:space-between;min-height:100px;"]),L=Object(s.b)(u.b).withConfig({displayName:"boards__BoardName",componentId:"sc-fg38gg-2"})(["display:flex;font-weight:bold;font-size:1.1rem;text-decoration:none;justify-content:center;"]),z=s.b.div.withConfig({displayName:"boards__BoardsList",componentId:"sc-fg38gg-3"})(["display:flex;gap:15px;margin-bottom:15px;"]),q=s.b.div.withConfig({displayName:"boards__Error",componentId:"sc-fg38gg-4"})(["color:var(--error);text-align:center;margin-top:15px;"]),G=s.b.div.withConfig({displayName:"card__Container",componentId:"sc-skby4-0"})(["display:flex;flex-direction:column;width:250px;padding:1.5em;border:0.065em solid var(--main-dark);border-radius:var(--radius);background-color:var(--main-light);font-size:1rem;"]),V=function(e){var t=e.children;return Object(S.jsx)(G,{children:t})},J=s.b.input.withConfig({displayName:"input__Base",componentId:"sc-1x97q6x-0"})(["font-size:0.9rem;padding:0.5em;border-radius:var(--radius);border:1px solid var(--main-dark);"]),M=function(e){var t=e.placeholder,n=e.type,r=void 0===n?"text":n,o=e.handleOnChange,i=e.value;return Object(S.jsx)(J,{value:i,onChange:function(e){return o(e.target.value)},type:r,placeholder:t})},Y=Object(o.createContext)(null),Q=function(){var e=Object(o.useState)(JSON.parse(localStorage.getItem("authUser"))),t=Object(h.a)(e,2),n=t[0],r=t[1],i=Object(o.useContext)(Y).firebase;return Object(o.useEffect)((function(){var e=i.auth().onAuthStateChanged((function(e){e?(localStorage.setItem("authUser",JSON.stringify(e)),r(e)):(localStorage.removeItem("authUser"),r(null))}));return function(){return e()}}),[]),{user:n}},X=function(){var e=Q().user,t=Object(o.useState)(""),n=Object(h.a)(t,2),r=n[0],i=n[1],a=Object(o.useState)(""),c=Object(h.a)(a,2),s=c[0],d=c[1],u=Object(o.useState)([]),l=Object(h.a)(u,2),f=l[0],m=l[1];Object(o.useEffect)((function(){O()}),[]);var O=function(){(function(e){var t=[];return new Promise((function(n,r){R.firestore().collection("boards").where("userId","==",e).get().then((function(e){e.forEach((function(e){t.push(e.data()),n(t)}))})).catch((function(e){r(e.message)}))}))})(e.uid).then((function(e){return m(e)})).catch((function(e){return d(e)}))};return Object(S.jsxs)(U,{children:[Object(S.jsx)(z,{children:!!f.length&&f.map((function(e){return Object(S.jsx)(V,{children:Object(S.jsx)(L,{to:"".concat(b.BOARD,"/").concat(e.id),children:e.name})},e.id)}))}),Object(S.jsx)(V,{children:Object(S.jsxs)(W,{children:[Object(S.jsx)(M,{placeholder:"Create board",handleOnChange:i,value:r}),Object(S.jsx)(E,{type:"sumbit",handleOnClick:function(){if(r){var t={userId:e.uid,name:r,id:Object(H.a)(),lists:[]};D(t).then((function(){i(""),O()})).catch((function(e){d(e)}))}},children:"Create board"}),Object(S.jsx)(q,{children:s})]})})]})},Z=function(){var e=Object(l.h)().id,t=Object(o.useState)(!1),n=Object(h.a)(t,2),r=n[0],i=n[1],a=Object(o.useState)(""),c=Object(h.a)(a,2),s=c[0],d=c[1];return Object(S.jsxs)("div",{children:[Object(S.jsx)(E,{handleOnClick:function(){i(!0)},children:"Create new list"}),r&&Object(S.jsxs)("div",{children:[Object(S.jsx)(M,{placeholder:"Enter list name",value:s,handleOnChange:d}),Object(S.jsx)(E,{handleOnClick:function(){var t={name:s,id:Object(H.a)(),boardId:e,tasks:[]};k(t).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))},children:"Add list"})]})]})},$=s.b.header.withConfig({displayName:"header__Base",componentId:"sc-tq4xmx-0"})(["display:flex;justify-content:space-between;align-items:center;padding:20px 50px;border-bottom:1px solid var(--main-dark);"]),ee=Object(s.b)(u.b).withConfig({displayName:"header__Logo",componentId:"sc-tq4xmx-1"})(["color:var(--main-dark);font-size:2rem;text-decoration:none;"]),te=s.b.button.withConfig({displayName:"header__LogoutButton",componentId:"sc-tq4xmx-2"})(["background-color:var(--accent);color:var(--main-light);border:0;font-size:0.9rem;border-radius:3px;padding:0.5em 1.2em;text-decoration:none;transition:background-color var(--transition);cursor:pointer;&:hover{background:var(--darken-accent);}"]),ne=function(){var e=Object(l.g)();return Object(S.jsxs)($,{children:[Object(S.jsx)(ee,{to:"/",children:"Trello clone"}),Object(S.jsx)(te,{onClick:function(){new Promise((function(e,t){R.auth().signOut().then((function(){return e()})).catch((function(e){return t(e.message)}))})).then((function(){return e.push(b.SIGNIN)}))},children:"Logout"})]})},re=["user","children"],oe=function(e){var t=e.user,n=e.children,r=Object(_.a)(e,re);return Object(S.jsx)(l.b,Object(f.a)(Object(f.a)({},r),{},{render:function(e){var r=e.location;return t?n:t?null:Object(S.jsx)(l.a,{to:{pathname:b.SIGNIN,state:{from:r}}})}}))},ie=function(){var e=Q().user;return Object(S.jsxs)(u.a,{children:[Object(S.jsx)(ne,{}),Object(S.jsxs)(l.d,{children:[Object(S.jsx)(l.b,{exact:!0,path:b.ROOT,children:Object(S.jsx)(B,{})}),Object(S.jsx)(l.b,{exact:!0,path:b.SIGNIN,children:Object(S.jsx)(K,{})}),Object(S.jsx)(oe,{user:e,exact:!0,path:b.BOARDS,children:Object(S.jsx)(X,{})}),Object(S.jsx)(oe,{user:e,exact:!0,path:"".concat(b.BOARD,"/:id"),children:Object(S.jsx)(Z,{})})]})]})};a.a.render(Object(S.jsxs)(Y.Provider,{value:{firebase:R},children:[Object(S.jsx)(d,{}),Object(S.jsx)(ie,{})]}),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.d23be1d8.chunk.js.map