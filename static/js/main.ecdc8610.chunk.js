(this["webpackJsonptrello-clone"]=this["webpackJsonptrello-clone"]||[]).push([[0],{56:function(e,n,t){"use strict";t.r(n);var r,o=t(1),i=t(36),a=t.n(i),c=t(37),s=t(6),d=Object(s.a)(r||(r=Object(c.a)(["\n    *, *:before, *:after {\n        box-sizing: border-box;\n    }\n    html, body {\n        height: 100%;\n        font-family: 'Roboto', sans-serif;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n    }\n    #root {\n        height: 100%;\n        font-size: 1rem;\n\n        --main-dark: #1E212B;\n        --main-light: #FFFFFF;\n        --darken-dark: #07080A;\n        --accent: #43AA8B;\n        --darken-accent: #2e7560;\n        --additional: #FFC800;\n        \n        --error: #D63230;\n        --disabled: #E8E9EB;\n\n        --radius: 5px;\n\n        --transition: 0.2s ease-in-out;\n    }\n"]))),u=(t(48),t(18)),l=t(7),b={ROOT:"/",SIGNIN:"/signin",BOARDS:"/boards",BOARD:"/boards"},m=t(10),h=t(17),f=t(42),O=s.b.form.withConfig({displayName:"form__Base",componentId:"sc-1grfi8t-0"})(["display:flex;flex-direction:column;text-align:center;height:25em;width:25em;font-size:1rem;padding:0.625em 4em;border-radius:var(--radius);box-sizing:border-box;color:var(--main-light);background:var(--additional);background:linear-gradient(45deg,var(--additional) 0%,var(--accent) 88%);"]),p=s.b.h2.withConfig({displayName:"form__Title",componentId:"sc-1grfi8t-1"})(["text-transform:uppercase;font-size:1.8rem;margin:1em 0;white-space:nowrap;"]),j=s.b.input.withConfig({displayName:"form__Input",componentId:"sc-1grfi8t-2"})(["padding:0.625em;margin:0 0 0.625em 0;border:none;border-radius:var(--radius);font-size:1rem;"]),g=s.b.p.withConfig({displayName:"form__ErrorText",componentId:"sc-1grfi8t-3"})(["color:var(--error);word-wrap:break-word;margin:0 0 0.625em 0;"]),_=s.b.p.withConfig({displayName:"form__LoadingText",componentId:"sc-1grfi8t-4"})(["font-size:1.2rem;"]),x=t(28),S=s.b.button.withConfig({displayName:"button__Base",componentId:"sc-1caough-0"})(["cursor:pointer;padding:0.625em;border-radius:var(--radius);border:none;background-color:var(--main-dark);color:var(--main-light);font-weight:bold;font-size:1.1rem;box-sizing:border-box;transition:background-color var(--transition);&:hover{background-color:var(--darken-dark);}&:disabled{background-color:var(--disabled);cursor:default;}"]),v=t(2),C=["children","handleOnClick"],E=function(e){var n=e.children,t=e.handleOnClick,r=Object(x.a)(e,C);return Object(v.jsx)(S,Object(h.a)(Object(h.a)({onClick:t},r),{},{children:n}))},T=function(e){var n=e.formTitle,t=e.buttonTitle,r=e.onSubmit,o=e.errorText,i=Object(f.a)(),a=i.register,c=i.handleSubmit,s=i.formState,d=s.errors,u=s.isSubmitting;return Object(v.jsxs)(O,{onSubmit:c(r),children:[Object(v.jsx)(p,{children:n}),Object(v.jsx)(j,Object(h.a)(Object(h.a)({},a("email",{required:!0})),{},{placeholder:"Email"})),d.email&&Object(v.jsx)(g,{role:"alert",children:"Email is required"}),Object(v.jsx)(j,Object(h.a)(Object(h.a)({},a("password",{required:!0})),{},{placeholder:"Password",type:"password"})),d.password&&Object(v.jsx)(g,{role:"alert",children:"Password is required"}),Object(v.jsx)(E,{children:t}),o&&Object(v.jsx)(g,{role:"alert",children:o}),u&&Object(v.jsx)(_,{children:"Loading..."})]})},I=s.b.div.withConfig({displayName:"sigup__Container",componentId:"sc-1yxuy2q-0"})(["height:100%;display:flex;align-items:center;justify-content:center;"]),w=t(5),N=t.n(w),y=t(12),A=t(41),P=(t(57),t(51),{apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"/trello-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_KEY,authDomain:Object({NODE_ENV:"production",PUBLIC_URL:"/trello-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_AUTH_DOMAIN,projectId:Object({NODE_ENV:"production",PUBLIC_URL:"/trello-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_PROJECT_ID,storageBucket:Object({NODE_ENV:"production",PUBLIC_URL:"/trello-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_STORAGE_BUCKET,messagingSenderId:Object({NODE_ENV:"production",PUBLIC_URL:"/trello-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_MESSAGING_SENDER_ID,appId:Object({NODE_ENV:"production",PUBLIC_URL:"/trello-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_APP_ID}),R=A.a.initializeApp(P),D=function(){var e=Object(y.a)(N.a.mark((function e(n){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.name,e.abrupt("return",new Promise((function(e,r){R.firestore().collection("boards").doc(t).set(n,{merge:!0}).then((function(){e()})).catch((function(e){return r(e.message)}))})));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),k=function(){var e=Object(l.g)(),n=Object(o.useState)(""),t=Object(m.a)(n,2),r=t[0],i=t[1],a=function(n){(function(e){var n=e.email,t=e.password;return new Promise((function(e,r){R.auth().createUserWithEmailAndPassword(n,t).then((function(t){var o=t.user.uid,i={email:n,uid:o};R.firestore().collection("users").doc(o).set(i).then((function(){e()})).catch((function(e){return r(e.message)}))})).catch((function(e){r(e.message)}))}))})(n).then((function(){return e.push(b.SIGNIN)})).catch((function(e){return i(e)}))};return Object(v.jsx)(I,{children:Object(v.jsx)(T,{onSubmit:function(e,n){n.preventDefault(),a(e)},buttonTitle:"Sign Up",formTitle:"Create account",errorText:r.message})})},B=s.b.div.withConfig({displayName:"signin__Container",componentId:"sc-1tsapn2-0"})(["height:100%;display:flex;align-items:center;justify-content:center;"]),K=function(){var e=Object(l.g)(),n=Object(o.useState)(""),t=Object(m.a)(n,2),r=t[0],i=t[1],a=function(n){(function(e){var n=e.email,t=e.password;return new Promise((function(e,r){R.auth().signInWithEmailAndPassword(n,t).then((function(){e()})).catch((function(e){r(e.message)}))}))})(n).then((function(){return e.push(b.DASHBOARD)})).catch((function(e){return i(e)}))};return Object(v.jsx)(B,{children:Object(v.jsx)(T,{onSubmit:function(e,n){n.preventDefault(),a(e)},buttonTitle:"Sign In",formTitle:"Sign In",errorText:r})})},F=t(59),H=s.b.div.withConfig({displayName:"dashboard__Base",componentId:"sc-mp2rob-0"})(["margin:50px;"]),W=s.b.div.withConfig({displayName:"dashboard__Container",componentId:"sc-mp2rob-1"})(["display:flex;flex-direction:column;justify-content:space-between;min-height:100px;"]),U=Object(s.b)(u.b).withConfig({displayName:"dashboard__BoardName",componentId:"sc-mp2rob-2"})(["display:flex;font-weight:bold;font-size:1.1rem;text-decoration:none;justify-content:center;"]),L=s.b.div.withConfig({displayName:"dashboard__Boards",componentId:"sc-mp2rob-3"})(["display:flex;gap:15px;margin-bottom:15px;"]),z=s.b.div.withConfig({displayName:"card__Container",componentId:"sc-skby4-0"})(["display:flex;flex-direction:column;width:250px;padding:1.5em;border:0.065em solid var(--main-dark);border-radius:var(--radius);background-color:var(--main-light);font-size:1rem;"]),q=function(e){var n=e.children;return Object(v.jsx)(z,{children:n})},G=s.b.input.withConfig({displayName:"input__Base",componentId:"sc-1x97q6x-0"})(["font-size:0.9rem;padding:0.5em;border-radius:var(--radius);border:1px solid var(--main-dark);"]),V=function(e){var n=e.placeholder,t=e.type,r=void 0===t?"text":t,o=e.handleOnChange,i=e.value;return Object(v.jsx)(G,{value:i,onChange:function(e){return o(e.target.value)},type:r,placeholder:n})},J=Object(o.createContext)(null),M=function(){var e=Object(o.useState)(JSON.parse(localStorage.getItem("authUser"))),n=Object(m.a)(e,2),t=n[0],r=n[1],i=Object(o.useContext)(J).firebase;return Object(o.useEffect)((function(){var e=i.auth().onAuthStateChanged((function(e){e?(localStorage.setItem("authUser",JSON.stringify(e)),r(e)):(localStorage.removeItem("authUser"),r(null))}));return function(){return e()}}),[]),{user:t}},Y=function(){var e=M().user,n=Object(o.useState)(""),t=Object(m.a)(n,2),r=t[0],i=t[1],a=Object(o.useState)(""),c=Object(m.a)(a,2),s=c[0],d=c[1],u=Object(o.useState)([]),l=Object(m.a)(u,2),h=l[0],f=l[1];Object(o.useEffect)((function(){O()}),[]);var O=function(){(function(e){var n=[];return new Promise((function(t,r){R.firestore().collection("boards").where("userId","==",e).get().then((function(e){e.forEach((function(e){n.push(e.data()),t(n)}))})).catch((function(e){r(e.message)}))}))})(e.uid).then((function(e){return f(e)})).catch((function(e){return d(e)}))};return Object(v.jsxs)(H,{children:[Object(v.jsx)(L,{children:!!h.length&&h.map((function(e){return Object(v.jsx)(q,{children:Object(v.jsx)(U,{to:"".concat(b.BOARD,"/").concat(e.id),children:e.name})},e.name)}))}),Object(v.jsx)(q,{children:Object(v.jsxs)(W,{children:[Object(v.jsx)(V,{placeholder:"Create board",handleOnChange:i,value:r}),Object(v.jsx)(E,{type:"sumbit",handleOnClick:function(){if(r){var n={userId:e.uid,name:r,id:Object(F.a)()};D(n).then((function(){i(""),O()})).catch((function(e){d(e.message)}))}},children:"Create board"}),s]})})]})},Q=s.b.header.withConfig({displayName:"header__Base",componentId:"sc-tq4xmx-0"})(["display:flex;justify-content:space-between;align-items:center;padding:20px 50px;border-bottom:1px solid var(--main-dark);"]),X=Object(s.b)(u.b).withConfig({displayName:"header__Logo",componentId:"sc-tq4xmx-1"})(["color:var(--main-dark);font-size:2rem;text-decoration:none;"]),Z=s.b.button.withConfig({displayName:"header__LogoutButton",componentId:"sc-tq4xmx-2"})(["background-color:var(--accent);color:var(--main-light);border:0;font-size:0.9rem;border-radius:3px;padding:0.5em 1.2em;text-decoration:none;transition:background-color var(--transition);cursor:pointer;&:hover{background:var(--darken-accent);}"]),$=function(){var e=Object(l.g)();return Object(v.jsxs)(Q,{children:[Object(v.jsx)(X,{to:"/",children:"Trello clone"}),Object(v.jsx)(Z,{onClick:function(){new Promise((function(e,n){R.auth().signOut().then((function(){return e()})).catch((function(e){return n(e.message)}))})).then((function(){return e.push(b.SIGNIN)}))},children:"Logout"})]})},ee=["user","children"],ne=function(e){var n=e.user,t=e.children,r=Object(x.a)(e,ee);return Object(v.jsx)(l.b,Object(h.a)(Object(h.a)({},r),{},{render:function(e){var r=e.location;return n?t:n?null:Object(v.jsx)(l.a,{to:{pathname:b.SIGNIN,state:{from:r}}})}}))},te=function(){var e=M().user;return Object(v.jsxs)(u.a,{children:[Object(v.jsx)($,{}),Object(v.jsxs)(l.d,{children:[Object(v.jsx)(l.b,{exact:!0,path:b.ROOT,children:Object(v.jsx)(k,{})}),Object(v.jsx)(l.b,{exact:!0,path:b.SIGNIN,children:Object(v.jsx)(K,{})}),Object(v.jsx)(ne,{user:e,exact:!0,path:b.BOARDS,children:Object(v.jsx)(Y,{})}),Object(v.jsx)(ne,{user:e,exact:!0,path:"".concat(b.BOARD,"/:name"),children:"234234"})]})]})};a.a.render(Object(v.jsxs)(J.Provider,{value:{firebase:R},children:[Object(v.jsx)(d,{}),Object(v.jsx)(te,{})]}),document.getElementById("root"))}},[[56,1,2]]]);
//# sourceMappingURL=main.ecdc8610.chunk.js.map