(this["webpackJsonptrello-clone"]=this["webpackJsonptrello-clone"]||[]).push([[0],{57:function(e,t,n){"use strict";n.r(t);var r,i,o=n(1),a=n(38),c=n.n(a),s=n(28),d=n(5),u=Object(d.a)(r||(r=Object(s.a)(["\n    *, *:before, *:after {\n        box-sizing: border-box;\n    }\n    html, body {\n        height: 100%;\n        font-family: 'Roboto', sans-serif;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n    }\n    #root {\n        height: 100%;\n        font-size: 1rem;\n        display: flex;\n        flex-direction: column;\n\n        --main-dark: #1E212B;\n        --main-light: #FFFFFF;\n        --darken-dark: #07080A;\n        --accent: #43AA8B;\n        --darken-accent: #2e7560;\n        --additional: #FFC800;\n        \n        --error: #D63230;\n        --disabled: #E8E9EB;\n\n        --radius: 5px;\n\n        --transition: 0.2s ease-in-out;\n    }\n"]))),l=(n(49),n(17)),b=n(8),h=d.b.footer.withConfig({displayName:"Appstyles__Container",componentId:"sc-9arsbd-0"})(["flex:1;"]),f="/",m="/signin",j="/boards",g="/boards",O=n(7),p=n(18),x=n(42),_=d.b.form.withConfig({displayName:"form__Base",componentId:"sc-1grfi8t-0"})(["display:flex;flex-direction:column;text-align:center;height:25em;width:25em;font-size:1rem;padding:0.625em 4em;border-radius:var(--radius);box-sizing:border-box;color:var(--main-light);background:var(--additional);background:linear-gradient(45deg,var(--additional) 0%,var(--accent) 88%);"]),v=d.b.h2.withConfig({displayName:"form__Title",componentId:"sc-1grfi8t-1"})(["text-transform:uppercase;font-size:1.8rem;margin:1em 0;white-space:nowrap;"]),S=d.b.input.withConfig({displayName:"form__Input",componentId:"sc-1grfi8t-2"})(["padding:0.625em;margin:0 0 0.625em 0;border:none;border-radius:var(--radius);font-size:1rem;"]),C=d.b.p.withConfig({displayName:"form__ErrorText",componentId:"sc-1grfi8t-3"})(["color:var(--error);word-wrap:break-word;margin:0 0 0.625em 0;"]),E=n(30),w=Object(d.c)(i||(i=Object(s.a)(["\n    to { \n        transform: rotate(360deg); \n    }\n"]))),T=d.b.div.withConfig({displayName:"loader__Base",componentId:"sc-4gcszs-0"})(["display:flex;align-self:center;width:1.25em;height:1.25em;border:0.125em solid rgba(255,255,255,0.3);border-radius:50%;border-top-color:var(--main-light);animation:"," 1s ease-in-out infinite;"],w),y=n(2),I=function(){return Object(y.jsx)(T,{})},P=d.b.button.withConfig({displayName:"button__Base",componentId:"sc-1caough-0"})(["display:flex;justify-content:center;align-items:center;cursor:pointer;padding:0.625em;min-height:44px;border-radius:var(--radius);border:none;background-color:var(--main-dark);color:var(--main-light);font-weight:bold;font-size:1.1rem;box-sizing:border-box;transition:background-color var(--transition);&:hover{background-color:var(--darken-dark);}&:disabled{background-color:var(--disabled);cursor:default;}"]),k=["children","handleOnClick","isLoading"],N=function(e){var t=e.children,n=e.handleOnClick,r=e.isLoading,i=Object(E.a)(e,k);return Object(y.jsx)(P,Object(p.a)(Object(p.a)({onClick:n},i),{},{children:r?Object(y.jsx)(I,{}):t}))},A=function(e){var t=e.formTitle,n=e.buttonTitle,r=e.onSubmit,i=e.errorText,o=Object(x.a)(),a=o.register,c=o.handleSubmit,s=o.formState,d=s.errors,u=s.isSubmitting;return Object(y.jsxs)(_,{onSubmit:c(r),children:[Object(y.jsx)(v,{children:t}),Object(y.jsx)(S,Object(p.a)(Object(p.a)({},a("email",{required:!0})),{},{placeholder:"Email"})),d.email&&Object(y.jsx)(C,{role:"alert",children:"Email is required"}),Object(y.jsx)(S,Object(p.a)(Object(p.a)({},a("password",{required:!0})),{},{placeholder:"Password",type:"password"})),d.password&&Object(y.jsx)(C,{role:"alert",children:"Password is required"}),Object(y.jsx)(N,{isLoading:u,children:n}),i&&Object(y.jsx)(C,{role:"alert",children:i})]})},R=d.b.div.withConfig({displayName:"sigup__Container",componentId:"sc-1yxuy2q-0"})(["height:100%;display:flex;align-items:center;justify-content:center;"]),D=n(6),B=n.n(D),F=n(12),L=n(29),K=(n(58),n(52),{apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"/trello-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_KEY,authDomain:Object({NODE_ENV:"production",PUBLIC_URL:"/trello-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_AUTH_DOMAIN,projectId:Object({NODE_ENV:"production",PUBLIC_URL:"/trello-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_PROJECT_ID,storageBucket:Object({NODE_ENV:"production",PUBLIC_URL:"/trello-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_STORAGE_BUCKET,messagingSenderId:Object({NODE_ENV:"production",PUBLIC_URL:"/trello-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_MESSAGING_SENDER_ID,appId:Object({NODE_ENV:"production",PUBLIC_URL:"/trello-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_APP_ID}),U=L.a.initializeApp(K),W=function(){var e=Object(F.a)(B.a.mark((function e(t){var n,r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.name,e.abrupt("return",new Promise((function(e,i){U.firestore().collection("boards").where("name","==",r).get().then((function(r){r.docs.length?i("Board with this name already exists"):U.firestore().collection("boards").doc(n).set(t).then((function(){e()})).catch((function(e){return i(e.message)}))}))})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(F.a)(B.a.mark((function e(t){var n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.boardId,e.abrupt("return",new Promise((function(e,r){U.firestore().collection("boards").where("id","==",n).get().then((function(i){i.docs.length&&U.firestore().collection("boards").doc(n).update({lists:L.a.firestore.FieldValue.arrayUnion(t)}).then((function(){e()})).catch((function(e){return r(e.message)}))})).catch((function(e){return r(e.message)}))})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(b.g)(),t=Object(o.useState)(""),n=Object(O.a)(t,2),r=n[0],i=n[1],a=function(t){(function(e){var t=e.email,n=e.password;return new Promise((function(e,r){U.auth().createUserWithEmailAndPassword(t,n).then((function(n){var i=n.user.uid,o={email:t,uid:i};U.firestore().collection("users").doc(i).set(o).then((function(){e()})).catch((function(e){return r(e.message)}))})).catch((function(e){r(e.message)}))}))})(t).then((function(){return e.push(m)})).catch((function(e){return i(e)}))};return Object(y.jsx)(R,{children:Object(y.jsx)(A,{onSubmit:function(e,t){t.preventDefault(),a(e)},buttonTitle:"Sign Up",formTitle:"Create account",errorText:r.message})})},q=d.b.div.withConfig({displayName:"signin__Container",componentId:"sc-1tsapn2-0"})(["height:100%;display:flex;align-items:center;justify-content:center;"]),V=function(){var e=Object(b.g)(),t=Object(o.useState)(""),n=Object(O.a)(t,2),r=n[0],i=n[1],a=function(t){(function(e){var t=e.email,n=e.password;return new Promise((function(e,r){U.auth().signInWithEmailAndPassword(t,n).then((function(){e()})).catch((function(e){r(e.message)}))}))})(t).then((function(){return e.push(j)})).catch((function(e){return i(e)}))};return Object(y.jsx)(q,{children:Object(y.jsx)(A,{onSubmit:function(e,t){t.preventDefault(),a(e)},buttonTitle:"Sign In",formTitle:"Sign In",errorText:r})})},J=n(59),G=d.b.div.withConfig({displayName:"boards__Base",componentId:"sc-fg38gg-0"})(["margin:50px;"]),M=d.b.div.withConfig({displayName:"boards__Container",componentId:"sc-fg38gg-1"})(["display:flex;flex-direction:column;justify-content:space-between;min-height:120px;"]),Y=Object(d.b)(l.b).withConfig({displayName:"boards__BoardName",componentId:"sc-fg38gg-2"})(["display:flex;font-weight:bold;font-size:1.1rem;text-decoration:none;justify-content:center;"]),Q=d.b.div.withConfig({displayName:"boards__BoardsList",componentId:"sc-fg38gg-3"})(["display:flex;gap:15px;margin-bottom:15px;"]),X=d.b.div.withConfig({displayName:"boards__Error",componentId:"sc-fg38gg-4"})(["color:var(--error);text-align:center;margin-top:15px;"]),Z=d.b.div.withConfig({displayName:"card__Container",componentId:"sc-skby4-0"})(["display:flex;flex-direction:column;width:250px;padding:1.5em;border:0.065em solid var(--main-dark);border-radius:var(--radius);background-color:var(--main-light);font-size:1rem;"]),$=function(e){var t=e.children;return Object(y.jsx)(Z,{children:t})},ee=d.b.input.withConfig({displayName:"input__Base",componentId:"sc-1x97q6x-0"})(["font-size:0.9rem;padding:0.5em;border-radius:var(--radius);border:1px solid var(--main-dark);"]),te=function(e){var t=e.placeholder,n=e.type,r=void 0===n?"text":n,i=e.handleOnChange,o=e.value;return Object(y.jsx)(ee,{value:o,onChange:function(e){return i(e.target.value)},type:r,placeholder:t})},ne=Object(o.createContext)(null),re=function(){var e=Object(o.useState)(JSON.parse(localStorage.getItem("authUser"))),t=Object(O.a)(e,2),n=t[0],r=t[1],i=Object(o.useContext)(ne).firebase;return Object(o.useEffect)((function(){var e=i.auth().onAuthStateChanged((function(e){e?(localStorage.setItem("authUser",JSON.stringify(e)),r(e)):(localStorage.removeItem("authUser"),r(null))}));return function(){return e()}}),[]),{user:n}},ie=function(){var e=re().user,t=Object(o.useState)(""),n=Object(O.a)(t,2),r=n[0],i=n[1],a=Object(o.useState)(""),c=Object(O.a)(a,2),s=c[0],d=c[1],u=Object(o.useState)(!1),l=Object(O.a)(u,2),b=l[0],h=l[1],f=Object(o.useState)([]),m=Object(O.a)(f,2),j=m[0],p=m[1];Object(o.useEffect)((function(){x()}),[]);var x=function(){(function(e){var t=[];return new Promise((function(n,r){U.firestore().collection("boards").where("userId","==",e).get().then((function(e){e.forEach((function(e){t.push(e.data()),n(t)}))})).catch((function(e){r(e.message)}))}))})(e.uid).then((function(e){return p(e)})).catch((function(e){return d(e)}))};return Object(y.jsxs)(G,{children:[Object(y.jsx)(Q,{children:!!j.length&&j.map((function(e){return Object(y.jsx)($,{children:Object(y.jsx)(Y,{to:"".concat(g,"/").concat(e.id),children:e.name})},e.id)}))}),Object(y.jsx)($,{children:Object(y.jsxs)(M,{children:[Object(y.jsx)(te,{placeholder:"Create board",handleOnChange:i,value:r}),Object(y.jsx)(N,{type:"sumbit",handleOnClick:function(){if(r){h(!0);var t={userId:e.uid,name:r,id:Object(J.a)(),lists:[]};W(t).then((function(){i(""),x()})).catch((function(e){d(e)})).then((function(){return h(!1)}))}},isLoading:b,children:"Create board"}),s&&Object(y.jsx)(X,{children:s})]})})]})},oe=d.b.div.withConfig({displayName:"board__Base",componentId:"sc-1m1wiv-0"})(["margin:50px;height:100vh;overflow-x:auto;"]),ae=d.b.div.withConfig({displayName:"board__Lists",componentId:"sc-1m1wiv-1"})(["display:flex;"]),ce=d.b.div.withConfig({displayName:"board__List",componentId:"sc-1m1wiv-2"})(["background:pink;margin-right:10px;flex-basis:25%;min-width:250px;min-height:250px;"]),se=function(){var e=Object(b.h)().id,t=Object(o.useState)(!1),n=Object(O.a)(t,2),r=n[0],i=n[1],a=Object(o.useState)(""),c=Object(O.a)(a,2),s=c[0],d=c[1],u=Object(o.useState)(""),l=Object(O.a)(u,2),h=l[0],f=l[1],m=Object(o.useState)(!1),j=Object(O.a)(m,2),g=j[0],p=j[1],x=Object(o.useState)([]),_=Object(O.a)(x,2),v=_[0],S=_[1];Object(o.useEffect)((function(){C()}),[]);var C=function(){var t;p(!0),(t=e,new Promise((function(e,n){U.firestore().collection("boards").where("id","==",t).get().then((function(t){t.forEach((function(t){e(t.data().lists)}))})).catch((function(e){n(e.message)}))}))).then((function(e){return S(e)})).catch((function(e){return f(e)})).then((function(){return p(!1)}))};return Object(y.jsxs)(oe,{children:[Object(y.jsx)(N,{handleOnClick:function(){i(!0)},isLoading:g,children:"Create new list"}),Object(y.jsx)(ae,{children:v.length&&v.map((function(e){return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(ce,{children:[e.name,Object(y.jsx)(te,{placeholder:"Enter new task"})]},e.id)})}))}),r&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(te,{placeholder:"Enter list name",value:s,handleOnChange:d}),Object(y.jsx)(N,{handleOnClick:function(){var t={name:s,id:Object(J.a)(),boardId:e,tasks:[]};p(!0),H(t).then((function(e){return C()})).catch((function(e){return f(e)})).then((function(){return p(!1)}))},isLoading:g,children:"Add list"})]}),Object(y.jsx)(y.Fragment,{children:h})]})},de=d.b.header.withConfig({displayName:"header__Base",componentId:"sc-tq4xmx-0"})(["display:flex;justify-content:space-between;align-items:center;padding:20px 50px;background-color:var(--main-dark);"]),ue=Object(d.b)(l.b).withConfig({displayName:"header__Logo",componentId:"sc-tq4xmx-1"})(["color:var(--main-light);font-size:2rem;text-decoration:none;"]),le=d.b.button.withConfig({displayName:"header__LogoutButton",componentId:"sc-tq4xmx-2"})(["background-color:var(--accent);color:var(--main-light);border:0;font-size:0.9rem;border-radius:3px;padding:0.5em 1.2em;text-decoration:none;transition:background-color var(--transition);cursor:pointer;&:hover{background:var(--darken-accent);}"]),be=function(){var e=Object(b.g)(),t=re().user;return Object(y.jsxs)(de,{children:[Object(y.jsx)(ue,{to:"/",children:"Trello clone"}),t&&Object(y.jsx)(le,{onClick:function(){new Promise((function(e,t){U.auth().signOut().then((function(){return e()})).catch((function(e){return t(e.message)}))})).then((function(){return e.push(m)}))},children:"Logout"})]})},he=d.b.footer.withConfig({displayName:"footer__Base",componentId:"sc-13hwv09-0"})(["font-size:1.1rem;padding:1.5em;text-align:center;background-color:var(--main-dark);color:var(--main-light);"]),fe=function(){return Object(y.jsx)(he,{children:"2021"})},me=["user","children"],je=function(e){var t=e.user,n=e.children,r=Object(E.a)(e,me);return Object(y.jsx)(b.b,Object(p.a)(Object(p.a)({},r),{},{render:function(e){var r=e.location;return t?n:t?null:Object(y.jsx)(b.a,{to:{pathname:m,state:{from:r}}})}}))},ge=function(){var e=re().user;return Object(y.jsxs)(l.a,{children:[Object(y.jsx)(be,{}),Object(y.jsx)(h,{children:Object(y.jsxs)(b.d,{children:[Object(y.jsx)(b.b,{exact:!0,path:f,children:Object(y.jsx)(z,{})}),Object(y.jsx)(b.b,{exact:!0,path:m,children:Object(y.jsx)(V,{})}),Object(y.jsx)(je,{user:e,exact:!0,path:j,children:Object(y.jsx)(ie,{})}),Object(y.jsx)(je,{user:e,exact:!0,path:"".concat(g,"/:id"),children:Object(y.jsx)(se,{})})]})}),Object(y.jsx)(fe,{})]})};c.a.render(Object(y.jsxs)(ne.Provider,{value:{firebase:U},children:[Object(y.jsx)(u,{}),Object(y.jsx)(ge,{})]}),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.9ec3917e.chunk.js.map